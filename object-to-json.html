<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="object-to-json">
    <template></template>
    <script>
        class ObjectToJson extends Polymer.Element {
            static get is() { return 'object-to-json'; }
            static get properties() {
                return {
                    object: {
                        type: Object,
                        observer: '_objectChanged',
                        value: function () {
                            return {}
                        }
                    },
                    json: {
                        type: String,
                        reflectToAttribute: true,
                        notify: true
                    }
                };
            }
            _objectChanged(obj) {
                this.json = JSON.stringify(this.object, null, 2);
            }
        }
        window.customElements.define(ObjectToJson.is, ObjectToJson);
    </script>
</dom-module>